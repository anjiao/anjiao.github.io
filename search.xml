<?xml version="1.0" encoding="utf-8"?>
<search> 
  
    
    <entry>
      <title>SpringBoot参数校验和统一处理</title>
      <link href="/2018/12/28/SpringBoot%E5%8F%82%E6%95%B0%E6%A0%A1%E9%AA%8C%E5%92%8C%E7%BB%9F%E4%B8%80%E5%A4%84%E7%90%86/"/>
      <url>/2018/12/28/SpringBoot%E5%8F%82%E6%95%B0%E6%A0%A1%E9%AA%8C%E5%92%8C%E7%BB%9F%E4%B8%80%E5%A4%84%E7%90%86/</url>
      
        <content type="html"><![CDATA[<a id="more"></a><h2 id="1、新建项目运行环境"><a href="#1、新建项目运行环境" class="headerlink" title="1、新建项目运行环境"></a>1、新建项目运行环境</h2><h4 id="1-1项目目录"><a href="#1-1项目目录" class="headerlink" title="1.1项目目录"></a>1.1项目目录</h4><p><img src="http://pjk6kg9m3.bkt.clouddn.com/valid_1.png" alt="新建项目"></p><h4 id="1-2启动运行"><a href="#1-2启动运行" class="headerlink" title="1.2启动运行"></a>1.2启动运行</h4><p>修改<code>application.properties</code>端口</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">server.port= 9090</span><br></pre></td></tr></table></figure><p>User实体和Controller</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> <span class="keyword">implements</span> <span class="title">Serializable</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Integer id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> String emial;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Integer <span class="title">getId</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setId</span><span class="params">(Integer id)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.id = id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getEmial</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> emial;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setEmial</span><span class="params">(String emial)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.emial = emial;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping</span>(<span class="string">"/user"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping</span>(<span class="string">"/updateUserInfo"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">updateUserInfo</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"你好"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>启动之后打开浏览器输入<code>http://localhost:9090/user/updateUserInfo</code>，运行成功</p><h2 id="2、一般的代码参数验证"><a href="#2、一般的代码参数验证" class="headerlink" title="2、一般的代码参数验证"></a>2、一般的代码参数验证</h2><p>为<code>updateUserInfo</code>添加<code>User</code>参数并判断用户名不能为空的情况</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping</span>(<span class="string">"/user"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping</span>(<span class="string">"/updateUserInfo"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">updateUserInfo</span><span class="params">(@RequestBody User user)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (user.getName() == <span class="keyword">null</span> || user.getName().length() == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">"用户名不能为空哦亲~~~"</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"你好"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>我们来请求一下数据，先来请求一下完整的数据，如下图</p><p><img src="http://pjk6kg9m3.bkt.clouddn.com/valid_2.png" alt="完整的请求"></p><p>因为我们代码中添加了用户名字的判断，下面我们不传用户名字的参数，如下图</p><p><img src="http://pjk6kg9m3.bkt.clouddn.com/valid_3.png" alt="用户名为空的请求"></p><h2 id="3、注解方式验证"><a href="#3、注解方式验证" class="headerlink" title="3、注解方式验证"></a>3、注解方式验证</h2><p>做如下代码改动，在<code>Controller</code>和<code>User</code>实体中加入<code>@NotNull</code>和<code>@Valid</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> <span class="keyword">implements</span> <span class="title">Serializable</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Integer id;</span><br><span class="line">    <span class="meta">@NotNull</span>(message = <span class="string">"姓名不能为空"</span>)</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> String emial;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping</span>(<span class="string">"/user"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping</span>(<span class="string">"/updateUserInfo"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">updateUserInfo</span><span class="params">(@RequestBody @Valid User user)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"你好"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>加上以上配置之后请求用户为空返回如下，这是因为，默认情况下，SpringBoot配置了默认异常处理器DefaultHandlerExceptionResolver，而该处理器仅仅是将异常信息打印出来。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">"timestamp"</span>: <span class="string">"2018-12-28T03:30:49.942+0000"</span>,</span><br><span class="line">    <span class="string">"status"</span>: <span class="number">400</span>,</span><br><span class="line">    <span class="string">"error"</span>: <span class="string">"Bad Request"</span>,</span><br><span class="line">    <span class="string">"errors"</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">"codes"</span>: [</span><br><span class="line">                <span class="string">"NotNull.user.name"</span>,</span><br><span class="line">                <span class="string">"NotNull.name"</span>,</span><br><span class="line">                <span class="string">"NotNull.java.lang.String"</span>,</span><br><span class="line">                <span class="string">"NotNull"</span></span><br><span class="line">            ],</span><br><span class="line">            <span class="string">"arguments"</span>: [</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="string">"codes"</span>: [</span><br><span class="line">                        <span class="string">"user.name"</span>,</span><br><span class="line">                        <span class="string">"name"</span></span><br><span class="line">                    ],</span><br><span class="line">                    <span class="string">"arguments"</span>: <span class="keyword">null</span>,</span><br><span class="line">                    <span class="string">"defaultMessage"</span>: <span class="string">"name"</span>,</span><br><span class="line">                    <span class="string">"code"</span>: <span class="string">"name"</span></span><br><span class="line">                &#125;</span><br><span class="line">            ],</span><br><span class="line">            <span class="string">"defaultMessage"</span>: <span class="string">"姓名不能为空"</span>,</span><br><span class="line">            <span class="string">"objectName"</span>: <span class="string">"user"</span>,</span><br><span class="line">            <span class="string">"field"</span>: <span class="string">"name"</span>,</span><br><span class="line">            <span class="string">"rejectedValue"</span>: <span class="keyword">null</span>,</span><br><span class="line">            <span class="string">"bindingFailure"</span>: <span class="keyword">false</span>,</span><br><span class="line">            <span class="string">"code"</span>: <span class="string">"NotNull"</span></span><br><span class="line">        &#125;</span><br><span class="line">    ],</span><br><span class="line">    <span class="string">"message"</span>: <span class="string">"Validation failed for object='user'. Error count: 1"</span>,</span><br><span class="line">    <span class="string">"path"</span>: <span class="string">"/user/updateUserInfo"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>显然，我们并不需要返回如此多的信息，只需要将对应属性中的message信息给调用者即可，我们使用两种方式来解决。</p><h3 id="3-1-方式一添加BindingResult"><a href="#3-1-方式一添加BindingResult" class="headerlink" title="3.1 方式一添加BindingResult"></a>3.1 方式一添加BindingResult</h3><p>改进<code>Controller</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping</span>(<span class="string">"/user"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping</span>(<span class="string">"/updateUserInfo"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">updateUserInfo</span><span class="params">(@RequestBody @Valid User user, BindingResult bindingResult)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (bindingResult.hasErrors()) &#123;</span><br><span class="line">            List&lt;ObjectError&gt; errorList = bindingResult.getAllErrors();</span><br><span class="line">            <span class="keyword">if</span> (errorList != <span class="keyword">null</span> &amp;&amp; errorList.size() &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> errorList.get(<span class="number">0</span>).getDefaultMessage();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"你好"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>重启运行看结果如下图，成功返回了我们想看到的 <code>message</code></p><p><img src="http://pjk6kg9m3.bkt.clouddn.com/valid_4.png" alt=""></p><div class="note info"><p>但是这样并不优雅，每次都需要处理手动调用还要加入<code>BindingResul</code>t参数 </p></div>### 3.2 方式二全局异常捕获新建`GlobalExceptionHandler`类undefined改进`Controller`undefined得到同样的效果![](http://pjk6kg9m3.bkt.clouddn.com/valid_4.png)<div class="note info"><p>这里就可以统一处理我们的参数异常情况了，推荐  </p></div><h2 id="4、其他"><a href="#4、其他" class="headerlink" title="4、其他"></a>4、其他</h2><blockquote><p>spring boot 是引入了hibernate-validator的支持，由于默认情况下，Hibernate-validator使用的校验策略是依次校验，并且将不通过的结果保存，最后再统一抛出异常信息，但实际上，当校验出现第一个不满足情况的时候，就可以停止了(当然，如果选择全部验证完也是可以的)，所以我们手动配置一下。</p></blockquote><p>我们先看一下，如果是多个参数的校验</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> <span class="keyword">implements</span> <span class="title">Serializable</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Integer id;</span><br><span class="line">    <span class="meta">@NotNull</span>(message = <span class="string">"姓名不能为空"</span>)</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="meta">@NotNull</span>(message = <span class="string">"Email不能为空"</span>)</span><br><span class="line">    <span class="keyword">private</span> String emial;</span><br></pre></td></tr></table></figure><p>返回信息</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">"timestamp"</span>: <span class="string">"2018-12-28T06:03:12.485+0000"</span>,</span><br><span class="line">    <span class="string">"status"</span>: <span class="number">400</span>,</span><br><span class="line">    <span class="string">"error"</span>: <span class="string">"Bad Request"</span>,</span><br><span class="line">    <span class="string">"errors"</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">"codes"</span>: [</span><br><span class="line">                <span class="string">"NotNull.user.name"</span>,</span><br><span class="line">                <span class="string">"NotNull.name"</span>,</span><br><span class="line">                <span class="string">"NotNull.java.lang.String"</span>,</span><br><span class="line">                <span class="string">"NotNull"</span></span><br><span class="line">            ],</span><br><span class="line">            <span class="string">"arguments"</span>: [</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="string">"codes"</span>: [</span><br><span class="line">                        <span class="string">"user.name"</span>,</span><br><span class="line">                        <span class="string">"name"</span></span><br><span class="line">                    ],</span><br><span class="line">                    <span class="string">"arguments"</span>: <span class="keyword">null</span>,</span><br><span class="line">                    <span class="string">"defaultMessage"</span>: <span class="string">"name"</span>,</span><br><span class="line">                    <span class="string">"code"</span>: <span class="string">"name"</span></span><br><span class="line">                &#125;</span><br><span class="line">            ],</span><br><span class="line">            <span class="string">"defaultMessage"</span>: <span class="string">"姓名不能为空"</span>,</span><br><span class="line">            <span class="string">"objectName"</span>: <span class="string">"user"</span>,</span><br><span class="line">            <span class="string">"field"</span>: <span class="string">"name"</span>,</span><br><span class="line">            <span class="string">"rejectedValue"</span>: <span class="keyword">null</span>,</span><br><span class="line">            <span class="string">"bindingFailure"</span>: <span class="keyword">false</span>,</span><br><span class="line">            <span class="string">"code"</span>: <span class="string">"NotNull"</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">"codes"</span>: [</span><br><span class="line">                <span class="string">"NotNull.user.emial"</span>,</span><br><span class="line">                <span class="string">"NotNull.emial"</span>,</span><br><span class="line">                <span class="string">"NotNull.java.lang.String"</span>,</span><br><span class="line">                <span class="string">"NotNull"</span></span><br><span class="line">            ],</span><br><span class="line">            <span class="string">"arguments"</span>: [</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="string">"codes"</span>: [</span><br><span class="line">                        <span class="string">"user.emial"</span>,</span><br><span class="line">                        <span class="string">"emial"</span></span><br><span class="line">                    ],</span><br><span class="line">                    <span class="string">"arguments"</span>: <span class="keyword">null</span>,</span><br><span class="line">                    <span class="string">"defaultMessage"</span>: <span class="string">"emial"</span>,</span><br><span class="line">                    <span class="string">"code"</span>: <span class="string">"emial"</span></span><br><span class="line">                &#125;</span><br><span class="line">            ],</span><br><span class="line">            <span class="string">"defaultMessage"</span>: <span class="string">"Email不能为空"</span>,</span><br><span class="line">            <span class="string">"objectName"</span>: <span class="string">"user"</span>,</span><br><span class="line">            <span class="string">"field"</span>: <span class="string">"emial"</span>,</span><br><span class="line">            <span class="string">"rejectedValue"</span>: <span class="keyword">null</span>,</span><br><span class="line">            <span class="string">"bindingFailure"</span>: <span class="keyword">false</span>,</span><br><span class="line">            <span class="string">"code"</span>: <span class="string">"NotNull"</span></span><br><span class="line">        &#125;</span><br><span class="line">    ],</span><br><span class="line">    <span class="string">"message"</span>: <span class="string">"Validation failed for object='user'. Error count: 2"</span>,</span><br><span class="line">    <span class="string">"path"</span>: <span class="string">"/user/updateUserInfo"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>我们添加如下的配置之后</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ValidatorConfig</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Validator <span class="title">validator</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        ValidatorFactory factory = Validation.byProvider(HibernateValidator.class)</span><br><span class="line">                .configure()</span><br><span class="line">                <span class="comment">// 将fail_fast设置为true即可，如果想验证全部，则设置为false或者取消配置即可</span></span><br><span class="line">                .addProperty(<span class="string">"hibernate.validator.fail_fast"</span>, <span class="string">"true"</span>)</span><br><span class="line">                .buildValidatorFactory();</span><br><span class="line">        <span class="keyword">return</span> factory.getValidator();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>只返回了姓名的校验，而不是全部返回了</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">"timestamp"</span>: <span class="string">"2018-12-28T06:05:45.525+0000"</span>,</span><br><span class="line">    <span class="string">"status"</span>: <span class="number">400</span>,</span><br><span class="line">    <span class="string">"error"</span>: <span class="string">"Bad Request"</span>,</span><br><span class="line">    <span class="string">"errors"</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">"codes"</span>: [</span><br><span class="line">                <span class="string">"NotNull.user.name"</span>,</span><br><span class="line">                <span class="string">"NotNull.name"</span>,</span><br><span class="line">                <span class="string">"NotNull.java.lang.String"</span>,</span><br><span class="line">                <span class="string">"NotNull"</span></span><br><span class="line">            ],</span><br><span class="line">            <span class="string">"arguments"</span>: [</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="string">"codes"</span>: [</span><br><span class="line">                        <span class="string">"user.name"</span>,</span><br><span class="line">                        <span class="string">"name"</span></span><br><span class="line">                    ],</span><br><span class="line">                    <span class="string">"arguments"</span>: <span class="keyword">null</span>,</span><br><span class="line">                    <span class="string">"defaultMessage"</span>: <span class="string">"name"</span>,</span><br><span class="line">                    <span class="string">"code"</span>: <span class="string">"name"</span></span><br><span class="line">                &#125;</span><br><span class="line">            ],</span><br><span class="line">            <span class="string">"defaultMessage"</span>: <span class="string">"姓名不能为空"</span>,</span><br><span class="line">            <span class="string">"objectName"</span>: <span class="string">"user"</span>,</span><br><span class="line">            <span class="string">"field"</span>: <span class="string">"name"</span>,</span><br><span class="line">            <span class="string">"rejectedValue"</span>: <span class="keyword">null</span>,</span><br><span class="line">            <span class="string">"bindingFailure"</span>: <span class="keyword">false</span>,</span><br><span class="line">            <span class="string">"code"</span>: <span class="string">"NotNull"</span></span><br><span class="line">        &#125;</span><br><span class="line">    ],</span><br><span class="line">    <span class="string">"message"</span>: <span class="string">"Validation failed for object='user'. Error count: 1"</span>,</span><br><span class="line">    <span class="string">"path"</span>: <span class="string">"/user/updateUserInfo"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> SpringBoot </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SpringBoot </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>YAML语法入门和介绍</title>
      <link href="/2018/12/24/YAML%E8%AF%AD%E6%B3%95%E5%85%A5%E9%97%A8%E5%92%8C%E4%BB%8B%E7%BB%8D/"/>
      <url>/2018/12/24/YAML%E8%AF%AD%E6%B3%95%E5%85%A5%E9%97%A8%E5%92%8C%E4%BB%8B%E7%BB%8D/</url>
      
        <content type="html"><![CDATA[<a id="more"></a><h2 id="1、基本格式要求"><a href="#1、基本格式要求" class="headerlink" title="1、基本格式要求"></a>1、基本格式要求</h2><p>一个<a href="http://nodeca.github.io/js-yaml/" target="_blank" rel="noopener">在线格式示例</a></p><ul><li>YAML大小写敏感</li><li>使用缩进代表层级</li><li>同级缩进一样</li><li>#也使用做注释</li></ul><h2 id="2、示例展示"><a href="#2、示例展示" class="headerlink" title="2、示例展示"></a>2、示例展示</h2><p>随便拷贝了一个项目开源的示例</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">server:</span></span><br><span class="line"><span class="attr">  port:</span> <span class="number">8080</span></span><br><span class="line"></span><br><span class="line"><span class="attr">guns:</span></span><br><span class="line"><span class="attr">  swagger-open:</span> <span class="literal">true</span>              <span class="comment">#是否开启swagger (true/false)</span></span><br><span class="line"><span class="attr">  kaptcha-open:</span> <span class="literal">false</span>             <span class="comment">#是否开启登录时验证码 (true/false)</span></span><br><span class="line">  <span class="comment">#  file-upload-path: d:/tmp     #文件上传目录(不配置的话为java.io.tmpdir目录)</span></span><br><span class="line"><span class="attr">  spring-session-open:</span> <span class="literal">false</span>      <span class="comment">#是否开启spring session,如果是多机环境需要开启(true/false)</span></span><br><span class="line"><span class="attr">  session-invalidate-time:</span> <span class="number">1800</span>     <span class="comment">#session失效时间(只在单机环境下生效，多机环境在SpringSessionConfig类中配置) 单位：秒</span></span><br><span class="line"><span class="attr">  session-validation-interval:</span> <span class="number">900</span>  <span class="comment">#多久检测一次失效的session(只在单机环境下生效) 单位：秒</span></span><br><span class="line"></span><br><span class="line"><span class="attr">beetl:</span></span><br><span class="line"><span class="attr">  resource-auto-check:</span> <span class="literal">true</span>       <span class="comment">#热加载beetl模板，开发时候用</span></span><br><span class="line"></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line"><span class="attr">  profiles:</span></span><br><span class="line"><span class="attr">    active:</span> <span class="string">@spring.active@</span></span><br><span class="line"><span class="attr">  mvc:</span></span><br><span class="line"><span class="attr">    static-path-pattern:</span> <span class="string">/static/**</span></span><br><span class="line"><span class="attr">    view:</span></span><br><span class="line"><span class="attr">      prefix:</span> <span class="string">/WEB-INF/view</span></span><br><span class="line"><span class="attr">  devtools:</span></span><br><span class="line"><span class="attr">    restart:</span></span><br><span class="line"><span class="attr">      enabled:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">      additional-paths:</span> <span class="string">src/main/java</span></span><br><span class="line"><span class="attr">      exclude:</span> <span class="string">static/**,WEB-INF/view/**</span></span><br><span class="line"><span class="attr">  servlet:</span></span><br><span class="line"><span class="attr">    multipart:</span></span><br><span class="line"><span class="attr">      max-request-size:</span> <span class="number">100</span><span class="string">MB</span></span><br><span class="line"><span class="attr">      max-file-size:</span> <span class="number">100</span><span class="string">MB</span></span><br><span class="line"></span><br><span class="line"><span class="attr">mybatis-plus:</span></span><br><span class="line"><span class="attr">  typeAliasesPackage:</span> <span class="string">cn.stylefeng.guns.modular.system.model</span></span><br><span class="line"></span><br><span class="line"><span class="attr">log:</span></span><br><span class="line"><span class="attr">  path:</span> <span class="string">guns-logs</span></span><br></pre></td></tr></table></figure><h2 id="3、使用介绍"><a href="#3、使用介绍" class="headerlink" title="3、使用介绍"></a>3、使用介绍</h2><h3 id="3-1对象"><a href="#3-1对象" class="headerlink" title="3.1对象"></a>3.1对象</h3><p>格式 <code>key: value</code> ，冒号后面摇加一个空格</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">key:</span> <span class="string">value</span></span><br></pre></td></tr></table></figure><h3 id="3-2层级"><a href="#3-2层级" class="headerlink" title="3.2层级"></a>3.2层级</h3><p>使用缩进来表示层级</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">server:</span></span><br><span class="line"><span class="attr">  port:</span> <span class="number">9090</span></span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line"><span class="attr">  datasource:</span></span><br><span class="line"><span class="attr">    url:</span></span><br></pre></td></tr></table></figure><p>也可以使用流式语法</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">key:</span> <span class="string">&#123;child-key1:</span> <span class="string">value1,</span> <span class="attr">child-key2:</span> <span class="string">value2&#125;</span></span><br></pre></td></tr></table></figure><h3 id="3-3数组"><a href="#3-3数组" class="headerlink" title="3.3数组"></a>3.3数组</h3><p>使用一个短横线加一个空格代表一个数组</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">seq:</span></span><br><span class="line"><span class="bullet">  -</span> <span class="string">Mercury</span>   <span class="comment"># Rotates - no light/dark sides.</span></span><br><span class="line"><span class="bullet">  -</span> <span class="string">Venus</span>     <span class="comment"># Deadliest. Aptly named.</span></span><br><span class="line"><span class="bullet">  -</span> <span class="string">Earth</span>     <span class="comment"># Mostly dirt.</span></span><br><span class="line"><span class="bullet">  -</span> <span class="string">Mars</span>      <span class="comment"># Seems empty.</span></span><br><span class="line"><span class="bullet">  -</span> <span class="string">Jupiter</span>   <span class="comment"># The king.</span></span><br><span class="line"><span class="bullet">  -</span> <span class="string">Saturn</span>    <span class="comment"># Pretty.</span></span><br><span class="line"><span class="bullet">  -</span> <span class="string">Uranus</span>    <span class="comment"># Where the sun hardly shines.</span></span><br><span class="line"><span class="bullet">  -</span> <span class="string">Neptune</span>   <span class="comment"># Boring. No rings.</span></span><br><span class="line"><span class="bullet">  -</span> <span class="string">Pluto</span>     <span class="comment"># You call this a planet?</span></span><br></pre></td></tr></table></figure><p>相对复杂一点的</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">key:</span></span><br><span class="line"><span class="bullet">  -</span></span><br><span class="line"><span class="attr">    id:</span> <span class="number">1</span></span><br><span class="line"><span class="attr">    name:</span> <span class="string">nihao</span></span><br><span class="line"><span class="attr">    age:</span> <span class="number">18</span></span><br><span class="line"><span class="bullet">  -</span></span><br><span class="line"><span class="attr">    id:</span> <span class="number">2</span></span><br><span class="line"><span class="attr">    name:</span> <span class="string">nihao</span></span><br><span class="line"><span class="attr">    age:</span> <span class="number">18</span></span><br></pre></td></tr></table></figure><p>流式</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">key:</span> <span class="string">[&#123;id:</span> <span class="number">1</span><span class="string">,name:</span> <span class="string">nihao,age:</span> <span class="number">18</span><span class="string">&#125;,&#123;id:</span> <span class="number">2</span><span class="string">,name:</span> <span class="string">nihao,age:</span> <span class="number">18</span><span class="string">&#125;]</span></span><br></pre></td></tr></table></figure><h3 id="3-4常量"><a href="#3-4常量" class="headerlink" title="3.4常量"></a>3.4常量</h3><p>YAML支持多种常量：整数、浮点、字符串、NULL、日期、布尔、时间</p><h3 id="3-5一些特殊符号"><a href="#3-5一些特殊符号" class="headerlink" title="3.5一些特殊符号"></a>3.5一些特殊符号</h3><h5 id="3-5-1注解使用"><a href="#3-5-1注解使用" class="headerlink" title="3.5.1注解使用 #"></a>3.5.1注解使用 <code>#</code></h5><h5 id="3-5-2表示一个文档的开始"><a href="#3-5-2表示一个文档的开始" class="headerlink" title="3.5.2表示一个文档的开始 ---"></a>3.5.2表示一个文档的开始 <code>---</code></h5><p>例如</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line"><span class="attr">  profiles:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">  datasource:</span></span><br><span class="line"><span class="attr">    url:</span> <span class="attr">jdbc:mysql://127.0.0.1:3306/guns?autoReconnect=true&amp;useUnicode=true&amp;characterEncoding=utf8&amp;zeroDateTimeBehavior=CONVERT_TO_NULL&amp;useSSL=false&amp;serverTimezone=CTT</span></span><br><span class="line"><span class="attr">    username:</span> <span class="string">root</span></span><br><span class="line"><span class="attr">    password:</span> <span class="string">root</span></span><br><span class="line"><span class="attr">    filters:</span> <span class="string">wall,mergeStat</span></span><br><span class="line"></span><br><span class="line"><span class="meta">---</span></span><br><span class="line"></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line"><span class="attr">  profiles:</span> <span class="string">test</span></span><br><span class="line"><span class="attr">  datasource:</span></span><br><span class="line"><span class="attr">    url:</span> <span class="attr">jdbc:mysql://127.0.0.1:3306/guns?autoReconnect=true&amp;useUnicode=true&amp;characterEncoding=utf8&amp;zeroDateTimeBehavior=CONVERT_TO_NULL&amp;useSSL=false&amp;serverTimezone=CTT</span></span><br><span class="line"><span class="attr">    username:</span> <span class="string">root</span></span><br><span class="line"><span class="attr">    password:</span> <span class="string">root</span></span><br><span class="line"><span class="attr">    filters:</span> <span class="string">wall,mergeStat</span></span><br></pre></td></tr></table></figure><h5 id="3-5-3-…-和—配合"><a href="#3-5-3-…-和—配合" class="headerlink" title="3.5.3  … 和—配合"></a>3.5.3  … 和—配合</h5><p>在一个配置文件中代表一个文件的结束</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line"><span class="attr">  profiles:</span> <span class="string">test</span></span><br><span class="line"><span class="attr">  datasource:</span></span><br><span class="line"><span class="attr">    url:</span> <span class="attr">jdbc:mysql://127.0.0.1:3306/guns?autoReconnect=true&amp;useUnicode=true&amp;characterEncoding=utf8&amp;zeroDateTimeBehavior=CONVERT_TO_NULL&amp;useSSL=false&amp;serverTimezone=CTT</span></span><br><span class="line"><span class="attr">    username:</span> <span class="string">root</span></span><br><span class="line"><span class="attr">    password:</span> <span class="string">root</span></span><br><span class="line"><span class="attr">    filters:</span> <span class="string">wall,mergeStat</span> </span><br><span class="line"><span class="string">...</span></span><br></pre></td></tr></table></figure><h2 id="4、其他使用参考"><a href="#4、其他使用参考" class="headerlink" title="4、其他使用参考"></a>4、其他使用参考</h2><p><a href="http://www.ruanyifeng.com/blog/2016/07/yaml.html?f=tt" target="_blank" rel="noopener">YAML 语言教程</a></p><p><a href="https://yaml.org/spec/1.2/spec.html" target="_blank" rel="noopener">YAML 1.2 规格</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> YAML </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Flutter基于Mac环境安装到AS真机运行</title>
      <link href="/2018/12/18/Flutter%E5%9F%BA%E4%BA%8EMac%E7%8E%AF%E5%A2%83%E5%AE%89%E8%A3%85%E5%88%B0AS%E7%9C%9F%E6%9C%BA%E8%BF%90%E8%A1%8C/"/>
      <url>/2018/12/18/Flutter%E5%9F%BA%E4%BA%8EMac%E7%8E%AF%E5%A2%83%E5%AE%89%E8%A3%85%E5%88%B0AS%E7%9C%9F%E6%9C%BA%E8%BF%90%E8%A1%8C/</url>
      
        <content type="html"><![CDATA[<a id="more"></a><h2 id="官方链接和前置环境"><a href="#官方链接和前置环境" class="headerlink" title="官方链接和前置环境"></a>官方链接和前置环境</h2><p><a href="https://flutter.io/" target="_blank" rel="noopener">官方地址</a></p><p><a href="https://flutterchina.club/" target="_blank" rel="noopener">Flutter中文网</a></p><p>前置环境：</p><p>已安装了android studio 并且配置好能开发</p><h2 id="下载Flutter-SDK"><a href="#下载Flutter-SDK" class="headerlink" title="下载Flutter SDK"></a>下载Flutter SDK</h2><p>配置路径和下载Flutter SDK</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">export PUB_HOSTED_URL=https://pub.flutter-io.cn </span><br><span class="line">export FLUTTER_STORAGE_BASE_URL=https://storage.flutter-io.cn </span><br><span class="line">git clone -b dev https://github.com/flutter/flutter.git</span><br></pre></td></tr></table></figure><h2 id="配置路径"><a href="#配置路径" class="headerlink" title="配置路径"></a>配置路径</h2><p>打开命令行输入</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">open -e .bash_profile</span><br></pre></td></tr></table></figure><p>打开文件之后添加两个路径</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">export PATH=$&#123;PATH&#125;:/Users/joe/flutter/bin:$PATH</span><br><span class="line">export ANDROID_HOME=/Users/joe/Documents/androidadt/adt-bundle-mac-x86_64-20140702/sdk</span><br></pre></td></tr></table></figure><div class="note info"><p>第一个路径：设置Flutter路径 </p></div><div class="note info"><p>第二个路径：设置Flutter识别的Android SDK 路径 </p></div><p><strong>如果第二个路径没配置可能会提示说安卓sdk找不到</strong></p><p>设置之后记得更新配置</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source .bash_profile</span><br></pre></td></tr></table></figure><h2 id="验证安装环境"><a href="#验证安装环境" class="headerlink" title="验证安装环境"></a>验证安装环境</h2><p>输入命令行输入 </p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">flutter doctor</span><br></pre></td></tr></table></figure><div class="note info"><p>如果提示Flutter找不到指令，上面路径一忘记设置 </p></div><div class="note info"><p>如果提示Android SDK无法关联，上面路径二忘记设置 </p></div><p>都打钩了就说明环境配置OK了</p><h2 id="Android-Studio-插件安装"><a href="#Android-Studio-插件安装" class="headerlink" title="Android Studio 插件安装"></a>Android Studio 插件安装</h2><p>在plugin中搜索<code>Dart</code>和<code>Flutter</code>并且安装，重启As，会出现新建Flutter项目选项，新建Helloworld项目，流水式的新建，就不贴图了</p><h2 id="真机运行"><a href="#真机运行" class="headerlink" title="真机运行"></a>真机运行</h2><p>插上手机，运行即可，如果安装了Xcode，也可以选择IOS模拟器来运行。输入<code>flutter doctor</code>指令的时候如果提示需要统一一些 协议，会提示你输入什么命令，按照提示输入即可。</p><p>附图</p><p><img src="http://pjk6kg9m3.bkt.clouddn.com/flutter_demo_1.png" alt="AS运行真机"></p><p>真机效果图</p><img src="http://pjk6kg9m3.bkt.clouddn.com/flutter_demo_2.jpg" width="200" height="400">]]></content>
      
      
      <categories>
          
          <category> Flutter </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Flutter </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Typora 快捷键记录</title>
      <link href="/2018/12/17/Typora%20%E5%BF%AB%E6%8D%B7%E9%94%AE%E8%AE%B0%E5%BD%95/"/>
      <url>/2018/12/17/Typora%20%E5%BF%AB%E6%8D%B7%E9%94%AE%E8%AE%B0%E5%BD%95/</url>
      
        <content type="html"><![CDATA[<a id="more"></a><p>Typora是个人写博客的MarkDown写作工具，记录一下它一些常用的快捷键，便于日后查询</p><h2 id="1、标题和段落相关"><a href="#1、标题和段落相关" class="headerlink" title="1、标题和段落相关"></a>1、标题和段落相关</h2><h3 id="插入-1-6-级的标题"><a href="#插入-1-6-级的标题" class="headerlink" title="插入 1 - 6 级的标题"></a>插入 1 - 6 级的标题</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">command + (1-6)   光标放在所在的行即可操作</span><br></pre></td></tr></table></figure><h3 id="标题降级和升级"><a href="#标题降级和升级" class="headerlink" title="标题降级和升级"></a>标题降级和升级</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">command + (+或者-) 来升级和降级  光标放在所在的行即可操作</span><br></pre></td></tr></table></figure><h3 id="插入文本即段落"><a href="#插入文本即段落" class="headerlink" title="插入文本即段落"></a>插入文本即段落</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">command + 0 (零不是欧)</span><br></pre></td></tr></table></figure><h2 id="2、插入区块相关"><a href="#2、插入区块相关" class="headerlink" title="2、插入区块相关"></a>2、插入区块相关</h2><h3 id="插入表格"><a href="#插入表格" class="headerlink" title="插入表格"></a>插入表格</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">option + command + T</span><br></pre></td></tr></table></figure><p><strong>例如</strong></p><table><thead><tr><th style="text-align:center">用户名</th><th style="text-align:center">Email</th><th style="text-align:center">年龄</th></tr></thead><tbody><tr><td style="text-align:center">隔壁老王</td><td style="text-align:center"><a href="mailto:88@qq.com" target="_blank" rel="noopener">88@qq.com</a></td><td style="text-align:center">18</td></tr></tbody></table><h3 id="插入代码块"><a href="#插入代码块" class="headerlink" title="插入代码块"></a>插入代码块</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">option + command + C</span><br></pre></td></tr></table></figure><h3 id="插入公式块"><a href="#插入公式块" class="headerlink" title="插入公式块"></a>插入公式块</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">option + command + B</span><br></pre></td></tr></table></figure><p><strong>例如</strong><br>$$<br>x+y=b<br>$$</p><h3 id="插入引用"><a href="#插入引用" class="headerlink" title="插入引用"></a>插入引用</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">option + command + Q</span><br></pre></td></tr></table></figure><p><strong>例如</strong></p><blockquote><p>近几年来，父亲和我都是东奔西走，家中光景是一日不如一日。他少年出外谋生，独力支持，做了许多大事。哪知老境却如此颓唐！他触目伤怀，自然情不能自已。  （摘自：背影）</p></blockquote><h2 id="3、列表相关"><a href="#3、列表相关" class="headerlink" title="3、列表相关"></a>3、列表相关</h2><h3 id="有序列表"><a href="#有序列表" class="headerlink" title="有序列表"></a>有序列表</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">option + command + O (欧)</span><br></pre></td></tr></table></figure><ol><li>有序一</li><li>有序二</li><li>有序三</li></ol><h3 id="无序列表"><a href="#无序列表" class="headerlink" title="无序列表"></a>无序列表</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">option + command + U</span><br></pre></td></tr></table></figure><ul><li>无序一</li><li>无序二</li><li>无序三</li></ul><h3 id="任务列表"><a href="#任务列表" class="headerlink" title="任务列表"></a>任务列表</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">option + command + X</span><br></pre></td></tr></table></figure><ul><li style="list-style: none"><input type="checkbox"> 任务一</li><li style="list-style: none"><input type="checkbox"> 任务二</li><li style="list-style: none"><input type="checkbox"> 任务三</li></ul><h3 id="列表增大和减少缩进"><a href="#列表增大和减少缩进" class="headerlink" title="列表增大和减少缩进"></a>列表增大和减少缩进</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">增大列表缩进  command + ]</span><br><span class="line">减少列表缩进  command + [</span><br></pre></td></tr></table></figure><ul><li style="list-style: none"><input type="checkbox"> 任务一<ul><li style="list-style: none"><input type="checkbox"> 任务一子任务</li></ul></li><li style="list-style: none"><input type="checkbox"> 任务二<ul><li style="list-style: none"><input type="checkbox"> 任务二字任务</li></ul></li></ul><h2 id="4、其他"><a href="#4、其他" class="headerlink" title="4、其他"></a>4、其他</h2><h3 id="链接引用"><a href="#链接引用" class="headerlink" title="链接引用"></a>链接引用</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">option + command + L</span><br></pre></td></tr></table></figure><h3 id="脚注"><a href="#脚注" class="headerlink" title="脚注"></a>脚注</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">option + command + R</span><br></pre></td></tr></table></figure><h3 id="水平分割线"><a href="#水平分割线" class="headerlink" title="水平分割线"></a>水平分割线</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Shift + command + -</span><br></pre></td></tr></table></figure><hr><h3 id="生成Toc目录"><a href="#生成Toc目录" class="headerlink" title="生成Toc目录"></a>生成Toc目录</h3><p>无快捷键，需要点击段落然后生成就好了</p><h2 id="5、默认支持"><a href="#5、默认支持" class="headerlink" title="5、默认支持"></a>5、默认支持</h2><h3 id="加粗"><a href="#加粗" class="headerlink" title="加粗"></a>加粗</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">command + B</span><br></pre></td></tr></table></figure><p><strong>我是对应的加粗文字</strong></p><h3 id="斜体"><a href="#斜体" class="headerlink" title="斜体"></a>斜体</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">command + I</span><br></pre></td></tr></table></figure><p><em>我是对应的斜体文字</em></p><h3 id="下划线文字"><a href="#下划线文字" class="headerlink" title="下划线文字"></a>下划线文字</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">command + U</span><br></pre></td></tr></table></figure><p><u>我是对应的下划线文字</u></p><h3 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">shift + command + ’</span><br></pre></td></tr></table></figure><p><code>我是代码实例</code>我继续添加一些内容再来个<code>代码实例</code></p><h3 id="注释"><a href="#注释" class="headerlink" title="注释"></a>注释</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">control + -</span><br></pre></td></tr></table></figure><!--我是注释内容--><h3 id="超链接"><a href="#超链接" class="headerlink" title="超链接"></a>超链接</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">command + K  (文字+链接)</span><br></pre></td></tr></table></figure><p><a href="htt://www.baodu.com" target="_blank" rel="noopener">我是超链接文字</a></p><h3 id="图片"><a href="#图片" class="headerlink" title="图片"></a>图片</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">control + command + I</span><br></pre></td></tr></table></figure><p><img src="http://pjk6kg9m3.bkt.clouddn.com/bask_demo1.jpg" alt="灌篮高手描述"></p><h2 id="6、其他实用操作"><a href="#6、其他实用操作" class="headerlink" title="6、其他实用操作"></a>6、其他实用操作</h2><h3 id="源代码模式切换"><a href="#源代码模式切换" class="headerlink" title="源代码模式切换"></a>源代码模式切换</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">command + /</span><br></pre></td></tr></table></figure><iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="330" height="86" src="//music.163.com/outchain/player?type=2&id=459738345&auto=1&height=66"></iframe>]]></content>
      
      
      <categories>
          
          <category> 开发技巧 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 开发技巧 </tag>
            
        </tags>
      
    </entry>
    
  
  
</search>
